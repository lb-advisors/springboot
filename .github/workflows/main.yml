steps:
- uses: actions/checkout@v2
- name: Use Node.js ${{ matrix.node-version }}
  uses: actions/setup-node@v2
  with:
    node-version: ${{ matrix.node-version }}

- name: Install Dependencies
  run: npm ci
- name: Create Build
  run: npm run build --if-present

- name: Deploy to github pages
  env:
    GITHUB_TOKEN: ${{ secrets.GH_TOKEN }}
  run: npm run ng -- deploy --base-href=/books-archive/ --name="${{ secrets.UNAME }}" --email=${{ secrets.EMAIL }}
